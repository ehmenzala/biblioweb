<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Biblioweb | Dashboard</title>
    <link rel="stylesheet" href="/biblioweb/public/css/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <header class="dashboard-header">
      <div class="container">
        <a href="/biblioweb/">
          <img
            src="/biblioweb/public/assets/img/logo-desktop.png"
            alt="Logo de Biblioweb: Libro abierto por la mitad con partículas desvaneciéndose del lado derecho"
          />
        </a>
        <nav class="dashboard-header__nav">
          <ul class="dashboard-header__links" aria-label="main">
            <li>
              <a
                class="btn-dashboard btn-primary-dashboard dashboard-header__link"
                href="/biblioweb/libros/"
                >Libros</a
              >
            </li>
            <li>
              <a
                class="btn-dashboard btn-primary-dashboard dashboard-header__link"
                href="/biblioweb/autores/"
                >Autores</a
              >
            </li>
            <li>
              <a
                class="btn-dashboard btn-primary-dashboard dashboard-header__link"
                href="/biblioweb/rating/"
                >Rating</a
              >
            </li>
            <li>
              <a
                class="btn-dashboard btn-primary-dashboard dashboard-header__link active"
                href="/biblioweb/dashboard/"
                aria-current="location"
                >Dashboard</a
              >
            </li>
          </ul>
        </nav>
        <div class="profile">
          <p class="profile__welcome">Hola, ADMIN</p>
          <div class="profile__img-container">
            <img
              class="profile__img"
              src="https://api.dicebear.com/6.x/lorelei/svg?seed=Mittens"
              alt="Imagen de perfil del administrador"
            />
          </div>
        </div>
      </div>
    </header>
    <main class="dashboard-container container">
      <nav class="dashboard__nav" aria-label="dashboard">
        <ul class="dashboard__links">
          <li>
            <a
              role="tab"
              aria-selected="true"
              id="resume-btn"
              class="btn-dashboard btn-secondary-dashboard dashboard__link active"
              >Resumen</a
            >
          </li>
          <li>
            <a
              role="tab"
              aria-selected="false"
              id="bibliography-btn"
              class="btn-dashboard btn-secondary-dashboard dashboard__link"
              >Bibliografía</a
            >
          </li>
          <li>
            <a
              role="tab"
              aria-selected="false"
              id="users-btn"
              class="btn-dashboard btn-secondary-dashboard dashboard__link"
              >Usuarios</a
            >
          </li>
        </ul>
      </nav>
      <section class="dashboard">
        <article class="dashboard__card" data-user-info-card>
          <h2>Usuarios registrados</h2>
          <p>Total de usuarios registrados en Biblioweb.</p>
          <p id="user-count" class="big-text"></p>
        </article>
        <article class="dashboard__card" data-book-info-card>
          <h2>Relación de libros por género</h2>
          <p>Todos los libros de Biblioweb ordenados por género.</p>
          <canvas id="books-by-genre"></canvas>
        </article>
        <article class="dashboard__card" data-book-info-card>
          <h2>Relación de libros por rating</h2>
          <p>Todos los libros de Biblioweb ordenados por rating.</p>
          <canvas id="books-by-rating"></canvas>
        </article>
        <article class="dashboard__card" data-book-info-card>
          <h2>Libros</h2>
          <p>Todos los libros almacenados en Biblioweb.</p>
          <p id="book-count" class="big-text"></p>
        </article>
        <article class="dashboard__card" data-user-info-card>
          <h2>Relación de usuarios por rol</h2>
          <p>
            Los usuarios de Biblioweb solo pueden tener el rol de usuario o
            administrador.
          </p>
          <canvas id="users-by-role"></canvas>
        </article>
        <article class="dashboard__card" data-book-info-card>
          <h2>Gestionar libros</h2>
          <p>Gestione los libros de Biblioweb desde un solo lugar.</p>
          <button id="open-books-crud" class="btn btn-tertiary">
            Gestionar libros
          </button>
        </article>
        <article class="dashboard__card" data-user-info-card>
          <h2>Gestionar usuarios</h2>
          <p>Gestione los usuarios de Biblioweb desde un solo lugar.</p>
          <button id="open-users-crud" class="btn btn-tertiary">
            Gestionar usuarios
          </button>
        </article>
      </section>
    </main>
  </body>
  <dialog class="form-modal" id="books-dialog">
    <h2 class="form-modal__title">
      Gestionar libros -
      <span class="form-modal__book-status" id="book-status">Creando...</span>
    </h2>
    <p>Gestiona los libros desde un solo lugar.</p>
    <form action="#" method="post" id="book-form" class="dashboard-form">
      <div class="dashboard-form__field-group">
        <label for="book-id" class="dashboard-form__label">ID</label>
        <input
          type="text"
          name="book-id"
          id="book-id"
          class="dashboard-form__field"
          readonly
        />
      </div>
      <div class="dashboard-form__field-group">
        <label for="rating" class="dashboard-form__label">Rating</label>
        <input
          class="dashboard-form__field"
          id="rating"
          type="number"
          min="1"
          max="5"
          name="rating"
          placeholder="Ej. 5"
        />
      </div>
      <div class="dashboard-form__field-group">
        <label for="title" class="dashboard-form__label">Título</label>
        <input
          class="dashboard-form__field"
          id="title"
          type="text"
          name="title"
          placeholder="Ej. El Principito"
        />
      </div>
      <div class="dashboard-form__field-group">
        <label for="pub_year" class="dashboard-form__label"
          >Año de publicación</label
        >
        <input
          class="dashboard-form__field"
          id="pub_year"
          type="number"
          name="pub_year"
          placeholder="Ej. 1943"
        />
      </div>
      <div class="dashboard-form__field-group">
        <label for="no-pages" class="dashboard-form__label"
          >Número de páginas</label
        >
        <input
          class="dashboard-form__field"
          id="no-pages"
          type="number"
          name="no-pages"
          placeholder="Ej. 120"
        />
      </div>
      <div class="dashboard-form__field-group">
        <label for="language" class="dashboard-form__label">Idioma</label>
        <input
          class="dashboard-form__field"
          id="language"
          type="text"
          name="language"
          placeholder="Ej. Español"
        />
      </div>
      <div class="dashboard-form__field-group">
        <label for="org-language" class="dashboard-form__label"
          >Idioma original</label
        >
        <input
          class="dashboard-form__field"
          id="org-language"
          type="text"
          name="org-language"
          placeholder="Ej. Francés"
        />
      </div>
      <div class="dashboard-form__field-group">
        <label for="description" class="dashboard-form__label"
          >Descripción</label
        >
        <textarea
          class="dashboard-form__field"
          id="description"
          name="description"
          rows="1"
          placeholder="Ej. Este libro es fabuloso..."
        ></textarea>
      </div>
      <div class="dashboard-form__field-group">
        <label for="fragment" class="dashboard-form__label">Fragmento</label>
        <textarea
          class="dashboard-form__field"
          id="fragment"
          name="fragment"
          rows="1"
          placeholder="Ej. Cuando tenía seis años..."
        ></textarea>
      </div>
      <div class="dashboard-form__field-group">
        <div>
          <label for="book-genre" class="dashboard-form__label">Género</label> -
          <a
            role="button"
            aria-label="¿No encuentras el género que buscas? Crear un nuevo género"
            class="select-options__btn"
            id="open-genre-dialog"
            >Crear Género</a
          >
        </div>
        <select name="genre" id="book-genre" class="dashboard-form__field">
          <option value="Fantasía" selected>Fantasía</option>
          <option value="Novela Romántica">Novela Romántica</option>
          <option value="Cuento">Cuento</option>
        </select>
      </div>
      <div class="dashboard-form__field-group">
        <div>
          <label for="book-author" class="dashboard-form__label">Autor</label>
          -
          <a
            role="button"
            aria-label="¿No encuentras el autoer que buscas? Crear un nuevo autor"
            class="select-options__btn"
            id="open-author-dialog"
            >Crear Autor</a
          >
        </div>
        <select name="author" id="book-author" class="dashboard-form__field">
          <option value="Cal Newport" selected>Cal Newport</option>
          <option value="Irene Vallejo">Irene Vallejo</option>
          <option value="Adam Grant">Adam Grant</option>
        </select>
      </div>
    </form>
    <div class="dashboard-form__controls">
      <button form="book-form" type="submit" class="btn-form-dashboard">
        Buscar libro
      </button>
      <button form="book-form" type="submit" class="btn-form-dashboard">
        Actualizar
      </button>
      <button form="book-form" type="submit" class="btn-form-dashboard">
        Eliminar
      </button>
      <button form="book-form" type="submit" class="btn-form-dashboard">
        Crear
      </button>
    </div>
    <button
      id="close-books-dialog"
      class="form-modal__close"
      aria-label="Cerrar modal"
    ></button>
  </dialog>
  <dialog class="form-modal" id="users-dialog">
    <h2 class="form-modal__title">Gestionar Usuarios</h2>
    <button
      id="close-users-dialog"
      class="form-modal__close"
      aria-label="Cerrar modal"
    ></button>
  </dialog>
  <dialog class="form-modal" id="genre-dialog">
    <h2 class="form-modal__title">Crear un nuevo género</h2>
    <p>Crea un nuevo género si no encuentras el que buscas.</p>
    <form action="post" id="genre-form" class="dashboard-form--one-field">
      <div class="dashboard-form__field-group">
        <label for="genre" class="dashboard-form__label">Género</label>
        <input
          class="dashboard-form__field"
          id="genre"
          type="text"
          name="genre"
          placeholder="Ej. Realismo Mágico"
        />
      </div>
    </form>
    <button type="submit" form="genre-form" class="btn-form-dashboard">
      Crear género
    </button>
    <button
      id="close-genre-dialog"
      class="form-modal__close"
      aria-label="Cerrar modal"
    ></button>
  </dialog>
  <dialog class="form-modal" id="author-dialog">
    <h2 class="form-modal__title">Crear un nuevo autor</h2>
    <p>Crea un nuevo autor si no encuentras el que buscas.</p>
    <form action="post" id="author-form" class="dashboard-form--one-field">
      <div class="dashboard-form__field-group">
        <label for="new-author" class="dashboard-form__label">Autor</label>
        <input
          class="dashboard-form__field"
          id="new-author"
          type="text"
          name="author"
          placeholder="Ej. Sönke Ahrens"
        />
      </div>
      <div class="dashboard-form__field-group">
        <label for="profile-img" class="dashboard-form__label"
          >Foto de perfil</label
        >
        <input
          class="dashboard-form__field"
          id="profile-img"
          type="text"
          name="profile-img"
          placeholder="https://api.dicebear.com/6.x/lorelei/svg?seed=sönkeahrens"
          readonly
        />
      </div>
    </form>
    <button type="submit" form="author-form" class="btn-form-dashboard">
      Crear autor
    </button>
    <button
      id="close-author-dialog"
      class="form-modal__close"
      aria-label="Cerrar modal"
    ></button>
  </dialog>
  <script src="/biblioweb/public/js/dashboard-charts.js"></script>
  <script src="/biblioweb/public/js/dashboard-navigation.js"></script>
  <script src="/biblioweb/public/js/dashboard-modals.js"></script>
</html>
